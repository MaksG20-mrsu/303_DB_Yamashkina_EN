{% extends "base.html" %}

{% block title %}{% if student %}Редактировать студента{% else %}Добавить студента{% endif %}{% endblock %}
{% block header %}{% if student %}Редактировать студента{% else %}Добавить студента{% endif %}{% endblock %}

{% block content %}
<form method="post" action="{{ action }}" class="form">
    <div class="form-group">
        <label for="last_name">Фамилия *</label>
        <input type="text" id="last_name" name="last_name" 
               value="{{ student.last_name if student else '' }}" required>
    </div>
    
    <div class="form-group">
        <label for="first_name">Имя *</label>
        <input type="text" id="first_name" name="first_name" 
               value="{{ student.first_name if student else '' }}" required>
    </div>
    
    <div class="form-group">
        <label for="patronymic">Отчество</label>
        <input type="text" id="patronymic" name="patronymic" 
               value="{{ student.patronymic if student else '' }}">
    </div>
    
    <div class="form-group">
        <label for="group_id">Группа *</label>
        <select id="group_id" name="group_id" required>
            <option value="">Выберите группу</option>
            {% for group in groups %}
            <option value="{{ group.id }}" 
                    {% if student and student.group_id == group.id %}selected{% endif %}>
                {{ group.group_number }} ({{ group.specialization }})
            </option>
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label>Пол *</label>
        <div class="radio-group">
            <label>
                <input type="radio" name="gender" value="М" 
                       {% if student and student.gender == 'М' %}checked{% endif %} required>
                Мужской
            </label>
            <label>
                <input type="radio" name="gender" value="Ж" 
                       {% if student and student.gender == 'Ж' %}checked{% endif %}>
                Женский
            </label>
        </div>
    </div>
    
    <div class="form-group">
        <label for="birth_date">Дата рождения</label>
        <input type="date" id="birth_date" name="birth_date" 
               value="{{ student.birth_date if student else '' }}">
    </div>
    
    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            {% if student %}Сохранить{% else %}Добавить{% endif %}
        </button>
        <a href="{{ url_for('index') }}" class="btn">Отмена</a>
    </div>
</form>
{% endblock %}